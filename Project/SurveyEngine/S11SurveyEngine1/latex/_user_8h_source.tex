\hypertarget{_user_8h_source}{}\doxysection{User.\+h}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-\/default.txt to change this license}}
\DoxyCodeLine{3 \textcolor{comment}{ * Click nbfs://nbhost/SystemFileSystem/Templates/cppFiles/file.h to edit this template}}
\DoxyCodeLine{4 \textcolor{comment}{ */}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{comment}{/* }}
\DoxyCodeLine{7 \textcolor{comment}{ * File:   User.h}}
\DoxyCodeLine{8 \textcolor{comment}{ * Author: andrewguzman}}
\DoxyCodeLine{9 \textcolor{comment}{ *}}
\DoxyCodeLine{10 \textcolor{comment}{ * Created on April 11, 2023, 12:49 PM}}
\DoxyCodeLine{11 \textcolor{comment}{ */}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#ifndef USER\_H}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#define USER\_H}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}Survey.h"{}}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_user_info}{UserInfo}} \{}
\DoxyCodeLine{19     \textcolor{keywordtype}{char} username[11];}
\DoxyCodeLine{20     \textcolor{keywordtype}{char} password[13];}
\DoxyCodeLine{21     \textcolor{keywordtype}{bool} status;}
\DoxyCodeLine{22 \};}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{class }\mbox{\hyperlink{class_user}{User}} \{}
\DoxyCodeLine{25 \textcolor{keyword}{private}:}
\DoxyCodeLine{26     \mbox{\hyperlink{struct_user_info}{UserInfo}} info;}
\DoxyCodeLine{27     vector<Survey *> surveys; \textcolor{comment}{//All available surveys}}
\DoxyCodeLine{28     vector<Survey *> userSrvs; \textcolor{comment}{//Surveys completed by user}}
\DoxyCodeLine{29     vector<string> responses; \textcolor{comment}{//User responses to surveys}}
\DoxyCodeLine{30     \textcolor{keywordtype}{string} usrSrvFile; \textcolor{comment}{//name of user surveys file}}
\DoxyCodeLine{31     \textcolor{keywordtype}{string} usrRespFile; \textcolor{comment}{//name of user responses file}}
\DoxyCodeLine{32 \textcolor{keyword}{public}:}
\DoxyCodeLine{33 }
\DoxyCodeLine{34     \mbox{\hyperlink{class_user}{User}}() \{}
\DoxyCodeLine{35         strcpy(info.username, \textcolor{stringliteral}{"{} "{}});}
\DoxyCodeLine{36         strcpy(info.password, \textcolor{stringliteral}{"{} "{}});}
\DoxyCodeLine{37         info.status = \textcolor{keyword}{true};}
\DoxyCodeLine{38     \}}
\DoxyCodeLine{39 }
\DoxyCodeLine{40     \textcolor{keywordtype}{void} prompt() \{}
\DoxyCodeLine{41         \textcolor{keywordtype}{int} choice;}
\DoxyCodeLine{42         \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{43             cout << endl << \textcolor{stringliteral}{"{}Hello User, "{}} << info.username << endl;}
\DoxyCodeLine{44             cout << \textcolor{stringliteral}{"{} 1) Complete Survey"{}} << endl;}
\DoxyCodeLine{45             cout << \textcolor{stringliteral}{"{} 2) List Available Surveys"{}} << endl;}
\DoxyCodeLine{46             cout << \textcolor{stringliteral}{"{} 3) List Completed Surveys"{}} << endl;}
\DoxyCodeLine{47             cout << \textcolor{stringliteral}{"{} 4) View an Available Survey"{}} << endl;}
\DoxyCodeLine{48             cout << \textcolor{stringliteral}{"{} 5) View a Completed Survey"{}} << endl;}
\DoxyCodeLine{49             cout << \textcolor{stringliteral}{"{} 6) Update Account Information"{}} << endl;}
\DoxyCodeLine{50             cout << \textcolor{stringliteral}{"{}99) Delete All Completed Surveys"{}} << endl;}
\DoxyCodeLine{51             cout << \textcolor{stringliteral}{"{}-\/1) Logout"{}} << endl;}
\DoxyCodeLine{52             cin>>choice;}
\DoxyCodeLine{53             cin.ignore();}
\DoxyCodeLine{54             \textcolor{keywordflow}{if} (choice == 1) \{}
\DoxyCodeLine{55                 completeSrv();}
\DoxyCodeLine{56             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (choice == 2) \{}
\DoxyCodeLine{57                 listSrvs(\textcolor{stringliteral}{"{}SurveyInfo.dat"{}});}
\DoxyCodeLine{58             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (choice == 3) \{}
\DoxyCodeLine{59                 listCompSrvs(usrSrvFile);}
\DoxyCodeLine{60             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (choice == 4) \{}
\DoxyCodeLine{61                 prntSrvs(\textcolor{stringliteral}{"{}SurveyInfo.dat"{}});}
\DoxyCodeLine{62             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (choice == 5) \{}
\DoxyCodeLine{63                 prntUsrSrvs();}
\DoxyCodeLine{64             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (choice == 6) \{}
\DoxyCodeLine{65                 updtUsrMenu();}
\DoxyCodeLine{66                 \textcolor{keywordflow}{if} (info.status == \textcolor{keyword}{false}) \textcolor{keywordflow}{return}; \textcolor{comment}{//logout if account was deactivated}}
\DoxyCodeLine{67             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (choice == 99) \{}
\DoxyCodeLine{68                 deleteAll();}
\DoxyCodeLine{69             \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71         \} \textcolor{keywordflow}{while} (choice != -\/1);}
\DoxyCodeLine{72     \}}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     \textcolor{keywordtype}{void} setUsrInfo(\textcolor{keywordtype}{string} name, \textcolor{keywordtype}{string} pass) \{}
\DoxyCodeLine{75         strcpy(info.username, name.c\_str());}
\DoxyCodeLine{76         strcpy(info.password, pass.c\_str());}
\DoxyCodeLine{77         info.status = \textcolor{keyword}{true};}
\DoxyCodeLine{78         usrSrvFile = string(info.username) + \textcolor{stringliteral}{"{}Surveys.dat"{}};}
\DoxyCodeLine{79         usrRespFile = string(info.username) + \textcolor{stringliteral}{"{}Resp.dat"{}};}
\DoxyCodeLine{80     \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82     \textcolor{keywordtype}{void} completeSrv() \{}
\DoxyCodeLine{83         \textcolor{keywordtype}{int} survNum = 0, indx = 0, validNum = 0;}
\DoxyCodeLine{84         \textcolor{keywordtype}{bool} completed = \textcolor{keyword}{false}; \textcolor{comment}{//flag to indicate whether survey is completed}}
\DoxyCodeLine{85 }
\DoxyCodeLine{86         \textcolor{comment}{//List all surveys, also reads surveys from binary}}
\DoxyCodeLine{87         listSrvs(\textcolor{stringliteral}{"{}SurveyInfo.dat"{}});}
\DoxyCodeLine{88         \textcolor{comment}{//Read completed surveys and responses from binary}}
\DoxyCodeLine{89         readFromBin(usrSrvFile, userSrvs);}
\DoxyCodeLine{90         readRespBin();}
\DoxyCodeLine{91 }
\DoxyCodeLine{92         \textcolor{comment}{//Prompt to select a survey to complete if there are surveys to complete}}
\DoxyCodeLine{93         \textcolor{keywordflow}{if} (surveys.size() != 0) \{}
\DoxyCodeLine{94             validNum = surveys.size(); \textcolor{comment}{//Check input is within bounds}}
\DoxyCodeLine{95             \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{96                 cout << \textcolor{stringliteral}{"{}Enter the Number of the Survey to Complete: "{}};}
\DoxyCodeLine{97                 cin>>survNum;}
\DoxyCodeLine{98                 cin.ignore();}
\DoxyCodeLine{99                 \textcolor{keywordflow}{if} (survNum <= 0 || survNum > validNum) \{}
\DoxyCodeLine{100                     cout << \textcolor{stringliteral}{"{}Invalid Survey Number. Enter 1 -\/ "{}} << validNum << endl;}
\DoxyCodeLine{101                 \}}
\DoxyCodeLine{102             \} \textcolor{keywordflow}{while} (survNum <= 0 || survNum > validNum);}
\DoxyCodeLine{103 }
\DoxyCodeLine{104             indx = survNum -\/ 1;}
\DoxyCodeLine{105 }
\DoxyCodeLine{106             \textcolor{comment}{//Check that the selected survey hasn't already been completed}}
\DoxyCodeLine{107             \textcolor{keywordflow}{if} (userSrvs.size() != 0 || completed == \textcolor{keyword}{false}) \{}
\DoxyCodeLine{108                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < userSrvs.size(); i++) \{}
\DoxyCodeLine{109                     \textcolor{keywordflow}{if} (strcmp(surveys[indx]-\/>getTitle(), userSrvs[i]-\/>getTitle()) == 0) \{}
\DoxyCodeLine{110                         completed = \textcolor{keyword}{true};}
\DoxyCodeLine{111                     \}}
\DoxyCodeLine{112                 \}}
\DoxyCodeLine{113 }
\DoxyCodeLine{114                 \textcolor{keywordflow}{if} (completed == \textcolor{keyword}{false}) \{}
\DoxyCodeLine{115                     surveys[indx]-\/>display();}
\DoxyCodeLine{116                     cout << \textcolor{stringliteral}{"{}COMPLETE SURVEY"{}} << endl;}
\DoxyCodeLine{117                     \textcolor{comment}{//Prompt for responses to every question in survey}}
\DoxyCodeLine{118                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < surveys[indx]-\/>getNumQs(); i++) \{}
\DoxyCodeLine{119                         cout << \textcolor{stringliteral}{"{}Question "{}} << i + 1 << endl;}
\DoxyCodeLine{120                         answerQ(i, surveys[indx]-\/>getQs()[i]);}
\DoxyCodeLine{121                         cout << endl;}
\DoxyCodeLine{122                     \}}
\DoxyCodeLine{123                     \textcolor{comment}{//Save selected survey and new responses to binary}}
\DoxyCodeLine{124                     userSrvs.push\_back(surveys[indx]);}
\DoxyCodeLine{125                     surveys[indx]-\/>saveToBin(usrSrvFile);}
\DoxyCodeLine{126                     reloadResp();}
\DoxyCodeLine{127                 \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{128                     cout << \textcolor{stringliteral}{"{}You've Already Completed This Survey."{}} << endl;}
\DoxyCodeLine{129                 \}}
\DoxyCodeLine{130             \}}
\DoxyCodeLine{131         \}}
\DoxyCodeLine{132     \}}
\DoxyCodeLine{133 }
\DoxyCodeLine{134     \textcolor{keywordtype}{void} answerQ(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{class_question}{Question}} *q) \{}
\DoxyCodeLine{135         \textcolor{comment}{//Prompt for response, varies based on type of question}}
\DoxyCodeLine{136         \textcolor{keywordflow}{if} (q-\/>getType() == SINGLE) \{}
\DoxyCodeLine{137             singleResp(i, q);}
\DoxyCodeLine{138         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (q-\/>getType() == MULTIPLE) \{}
\DoxyCodeLine{139             multResp(i, q);}
\DoxyCodeLine{140         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (q-\/>getType() == WRITEIN) \{}
\DoxyCodeLine{141             wrtInResp(i, q);}
\DoxyCodeLine{142         \}}
\DoxyCodeLine{143     \}}
\DoxyCodeLine{144 }
\DoxyCodeLine{145     \textcolor{keywordtype}{void} singleResp(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{class_question}{Question}} *q) \{}
\DoxyCodeLine{146         \textcolor{keywordtype}{string} response;}
\DoxyCodeLine{147 }
\DoxyCodeLine{148         cout << \textcolor{stringliteral}{"{}Enter Single Response: "{}};}
\DoxyCodeLine{149         getline(cin, response);}
\DoxyCodeLine{150 }
\DoxyCodeLine{151         \textcolor{comment}{//Validate that response is a valid option}}
\DoxyCodeLine{152         \textcolor{keywordflow}{if} (isdigit(response[0]) \&\& (stoi(response) >= 1) \&\& (stoi(response) <= q-\/>getNumResp())) \{}
\DoxyCodeLine{153             cout << \textcolor{stringliteral}{"{}You entered: "{}} << response << endl;}
\DoxyCodeLine{154             responses.push\_back(response);}
\DoxyCodeLine{155         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{156             cout << \textcolor{stringliteral}{"{}Invalid Input. Enter 1 -\/ "{}} << q-\/>getNumResp() << endl;}
\DoxyCodeLine{157             singleResp(i, q);}
\DoxyCodeLine{158         \}}
\DoxyCodeLine{159     \}}
\DoxyCodeLine{160 }
\DoxyCodeLine{161     \textcolor{keywordtype}{void} multResp(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{class_question}{Question}} *q) \{}
\DoxyCodeLine{162         \textcolor{keywordtype}{string} usrResps;}
\DoxyCodeLine{163         vector<string> listResp;}
\DoxyCodeLine{164         \textcolor{keywordtype}{bool} validInput = \textcolor{keyword}{true};}
\DoxyCodeLine{165 }
\DoxyCodeLine{166         cout << \textcolor{stringliteral}{"{}Enter Multiple Responses (separated by commas): "{}};}
\DoxyCodeLine{167         getline(cin, usrResps);}
\DoxyCodeLine{168 }
\DoxyCodeLine{169         \textcolor{comment}{// Split the input and store into a vector of strings}}
\DoxyCodeLine{170         listResp = strSplit(usrResps);}
\DoxyCodeLine{171 }
\DoxyCodeLine{172         \textcolor{comment}{// Validate that each response is a valid option}}
\DoxyCodeLine{173         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < listResp.size(); i++) \{}
\DoxyCodeLine{174             \textcolor{keywordflow}{if} (!isdigit(listResp[i][0]) || (stoi(listResp[i]) < 1) || (stoi(listResp[i]) > q-\/>getNumResp())) \{}
\DoxyCodeLine{175                 validInput = \textcolor{keyword}{false};}
\DoxyCodeLine{176                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{177             \}}
\DoxyCodeLine{178         \}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180         \textcolor{comment}{// If input is valid, add to the vector of all responses, else prompt again}}
\DoxyCodeLine{181         \textcolor{keywordflow}{if} (validInput) \{}
\DoxyCodeLine{182             cout << \textcolor{stringliteral}{"{}You Entered: "{}} << usrResps << endl;}
\DoxyCodeLine{183             responses.push\_back(usrResps);}
\DoxyCodeLine{184             cout << endl;}
\DoxyCodeLine{185         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{186             cout << \textcolor{stringliteral}{"{}Invalid Input. Enter 1 -\/ "{}} << q-\/>getNumResp() << endl;}
\DoxyCodeLine{187             multResp(i, q);}
\DoxyCodeLine{188         \}}
\DoxyCodeLine{189     \}}
\DoxyCodeLine{190 }
\DoxyCodeLine{191     \textcolor{keywordtype}{void} wrtInResp(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{class_question}{Question}} *q) \{}
\DoxyCodeLine{192         \textcolor{keywordtype}{string} writeInResp, usrResps;}
\DoxyCodeLine{193         vector<string> listResp;}
\DoxyCodeLine{194         \textcolor{keywordtype}{bool} validInput = \textcolor{keyword}{true};}
\DoxyCodeLine{195         \textcolor{keywordtype}{int} sizeList;}
\DoxyCodeLine{196 }
\DoxyCodeLine{197         cout << \textcolor{stringliteral}{"{}To Enter a Write-\/In Response, Include the Last Number Below \(\backslash\)n"{}};}
\DoxyCodeLine{198         cout << \textcolor{stringliteral}{"{}Enter Multiple Responses (separated by commas): "{}};}
\DoxyCodeLine{199         getline(cin, usrResps);}
\DoxyCodeLine{200 }
\DoxyCodeLine{201         \textcolor{comment}{// Split the input and store into a vector of strings}}
\DoxyCodeLine{202         listResp = strSplit(usrResps);}
\DoxyCodeLine{203         sizeList = listResp.size();}
\DoxyCodeLine{204 }
\DoxyCodeLine{205         \textcolor{comment}{// Validate that each response is a valid option}}
\DoxyCodeLine{206         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < sizeList; i++) \{}
\DoxyCodeLine{207             \textcolor{keywordflow}{if} (!isdigit(listResp[i][0]) || (stoi(listResp[i]) < 1) || (stoi(listResp[i]) > q-\/>getNumResp())) \{}
\DoxyCodeLine{208                 validInput = \textcolor{keyword}{false};}
\DoxyCodeLine{209                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{210             \}}
\DoxyCodeLine{211         \}}
\DoxyCodeLine{212 }
\DoxyCodeLine{213         \textcolor{comment}{// If input is valid, add to the vector of all responses, else prompt again}}
\DoxyCodeLine{214         \textcolor{keywordflow}{if} (validInput) \{}
\DoxyCodeLine{215             cout << \textcolor{stringliteral}{"{}You Entered: "{}} << usrResps << endl;}
\DoxyCodeLine{216             \textcolor{comment}{//Prompt the user to enter a write-\/in response if they selected the last option}}
\DoxyCodeLine{217             \textcolor{keywordflow}{if} (stoi(listResp[sizeList -\/ 1]) == q-\/>getNumResp()) \{}
\DoxyCodeLine{218                 cout << \textcolor{stringliteral}{"{}Enter Write-\/In Response: "{}};}
\DoxyCodeLine{219                 getline(cin, writeInResp);}
\DoxyCodeLine{220                 usrResps += \textcolor{stringliteral}{"{},"{}} + writeInResp;}
\DoxyCodeLine{221                 responses.push\_back(usrResps);}
\DoxyCodeLine{222             \}}
\DoxyCodeLine{223         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{224             cout << \textcolor{stringliteral}{"{}Invalid Input. Enter 1 -\/ "{}} << q-\/>getNumResp() << endl;}
\DoxyCodeLine{225             wrtInResp(i, q);}
\DoxyCodeLine{226         \}}
\DoxyCodeLine{227     \}}
\DoxyCodeLine{228 }
\DoxyCodeLine{229     vector<string> strSplit(\textcolor{keywordtype}{string} s) \{}
\DoxyCodeLine{230         vector<string> list;}
\DoxyCodeLine{231         stringstream ss(s);}
\DoxyCodeLine{232         \textcolor{keywordtype}{string} substr;}
\DoxyCodeLine{233 }
\DoxyCodeLine{234         \textcolor{comment}{// Read and split a string into substrings with delimiter, add to vector}}
\DoxyCodeLine{235         \textcolor{keywordflow}{while} (getline(ss, substr, \textcolor{charliteral}{','})) \{}
\DoxyCodeLine{236             list.push\_back(substr);}
\DoxyCodeLine{237         \}}
\DoxyCodeLine{238 }
\DoxyCodeLine{239         \textcolor{keywordflow}{return} list;}
\DoxyCodeLine{240     \}}
\DoxyCodeLine{241 }
\DoxyCodeLine{242     \textcolor{keywordtype}{void} deleteAll() \{}
\DoxyCodeLine{243         \textcolor{comment}{//Only used for testing}}
\DoxyCodeLine{244         clearBin(usrSrvFile);}
\DoxyCodeLine{245         userSrvs.clear();}
\DoxyCodeLine{246         clearBin(usrRespFile);}
\DoxyCodeLine{247         responses.clear();}
\DoxyCodeLine{248         cout << endl << \textcolor{stringliteral}{"{}All Surveys and Responses Have Been Deleted from the Database..."{}} << endl;}
\DoxyCodeLine{249     \}}
\DoxyCodeLine{250 }
\DoxyCodeLine{251     \textcolor{keywordtype}{void} updtUsrMenu() \{}
\DoxyCodeLine{252         \textcolor{keywordtype}{int} choice;}
\DoxyCodeLine{253 }
\DoxyCodeLine{254         \textcolor{keywordflow}{do} \{ \textcolor{comment}{//Print menu}}
\DoxyCodeLine{255             cout << \textcolor{stringliteral}{"{}Enter What You Would Like to Update"{}} << endl;}
\DoxyCodeLine{256             cout << \textcolor{stringliteral}{"{} 1) Password"{}} << endl;}
\DoxyCodeLine{257             cout << \textcolor{stringliteral}{"{} 2) Deactivate Account"{}} << endl;}
\DoxyCodeLine{258             cout << \textcolor{stringliteral}{"{} 0) Cancel Account Information Updates "{}} << endl;}
\DoxyCodeLine{259 }
\DoxyCodeLine{260             cin>>choice;}
\DoxyCodeLine{261             cin.ignore();}
\DoxyCodeLine{262             \textcolor{keywordflow}{switch} (choice) \{}
\DoxyCodeLine{263                 \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{264                     cout << endl << \textcolor{stringliteral}{"{}UPDATE PASSWORD"{}} << endl;}
\DoxyCodeLine{265                     updtPass();}
\DoxyCodeLine{266                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{267                 \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{268                     cout << endl << \textcolor{stringliteral}{"{}DEACTIVATE ACCOUNT"{}} << endl;}
\DoxyCodeLine{269                     deactvtAcc();}
\DoxyCodeLine{270                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{271                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{272                 \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{273                     cout << endl << \textcolor{stringliteral}{"{}CANCEL UPDATES"{}} << endl;}
\DoxyCodeLine{274                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{275                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{276                     cout << endl << \textcolor{stringliteral}{"{}You Picked an Invalid Option"{}} << endl;}
\DoxyCodeLine{277                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{278             \}}
\DoxyCodeLine{279         \} \textcolor{keywordflow}{while} (choice != 0);}
\DoxyCodeLine{280     \}}
\DoxyCodeLine{281 }
\DoxyCodeLine{282     \textcolor{keywordtype}{void} updtPass() \{}
\DoxyCodeLine{283         \textcolor{keywordtype}{string} passConf, newpass;}
\DoxyCodeLine{284         fstream userDB(\textcolor{stringliteral}{"{}UserInfo.dat"{}}, ios::in | ios::out | ios::binary);}
\DoxyCodeLine{285         \mbox{\hyperlink{struct_user_info}{UserInfo}} temp;}
\DoxyCodeLine{286 }
\DoxyCodeLine{287         \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{288             cout << \textcolor{stringliteral}{"{}To Update Your Password, Enter Your Current Password: "{}};}
\DoxyCodeLine{289             cin>>passConf;}
\DoxyCodeLine{290             cin.ignore();}
\DoxyCodeLine{291         \} \textcolor{keywordflow}{while} (strcmp(passConf.c\_str(), info.password) != 0);}
\DoxyCodeLine{292 }
\DoxyCodeLine{293         \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{294             \textcolor{comment}{//Prompt for password}}
\DoxyCodeLine{295             cout << \textcolor{stringliteral}{"{}Enter New Password (8 to 12 Characters): "{}};}
\DoxyCodeLine{296             cin>>newpass;}
\DoxyCodeLine{297             cin.ignore();}
\DoxyCodeLine{298             \textcolor{keywordflow}{while} (newpass.length() < 8 || newpass.length() > 12) \{}
\DoxyCodeLine{299                 cout << \textcolor{stringliteral}{"{}Password Does Not Meet Character Requirement"{}} << endl;}
\DoxyCodeLine{300                 cout << \textcolor{stringliteral}{"{}Enter New Password (8 to 12 Characters): "{}};}
\DoxyCodeLine{301                 cin>>newpass;}
\DoxyCodeLine{302                 cin.ignore();}
\DoxyCodeLine{303             \}}
\DoxyCodeLine{304         \} \textcolor{keywordflow}{while} (newpass.length() < 8 || newpass.length() > 12);}
\DoxyCodeLine{305 }
\DoxyCodeLine{306         \textcolor{keywordflow}{while} (userDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>} (\&temp), sizeof (temp))) \{}
\DoxyCodeLine{307             \textcolor{keywordflow}{if} (strcmp(temp.username, info.username) == 0) \{}
\DoxyCodeLine{308                 \textcolor{comment}{// Update the password}}
\DoxyCodeLine{309                 strcpy(temp.password, newpass.c\_str());}
\DoxyCodeLine{310                 strcpy(info.password, newpass.c\_str());}
\DoxyCodeLine{311 }
\DoxyCodeLine{312                 \textcolor{comment}{// Place cursor at the current read position to write new record}}
\DoxyCodeLine{313                 userDB.seekp(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}\textcolor{keyword}{>} (userDB.tellg()) -\/ sizeof (temp));}
\DoxyCodeLine{314                 userDB.write(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>} (\&temp), \textcolor{keyword}{sizeof} (temp));}
\DoxyCodeLine{315 }
\DoxyCodeLine{316                 cout << \textcolor{stringliteral}{"{}Password Updated Successfully."{}} << endl;}
\DoxyCodeLine{317             \}}
\DoxyCodeLine{318             userDB.close();}
\DoxyCodeLine{319         \}}
\DoxyCodeLine{320 }
\DoxyCodeLine{321         listUsrInfo();}
\DoxyCodeLine{322 }
\DoxyCodeLine{323         \textcolor{keywordflow}{return};}
\DoxyCodeLine{324     \}}
\DoxyCodeLine{325 }
\DoxyCodeLine{326     \textcolor{keywordtype}{void} deactvtAcc() \{}
\DoxyCodeLine{327         \textcolor{keywordtype}{string} passConf; \textcolor{comment}{//confirm password}}
\DoxyCodeLine{328         fstream userDB(\textcolor{stringliteral}{"{}UserInfo.dat"{}}, ios::in | ios::out | ios::binary);}
\DoxyCodeLine{329         \mbox{\hyperlink{struct_user_info}{UserInfo}} temp;}
\DoxyCodeLine{330 }
\DoxyCodeLine{331         \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{332             cout << \textcolor{stringliteral}{"{}To Deactivate Your Account, Enter Your Password: "{}};}
\DoxyCodeLine{333             cin>>passConf;}
\DoxyCodeLine{334             cin.ignore();}
\DoxyCodeLine{335         \} \textcolor{keywordflow}{while} (strcmp(passConf.c\_str(), info.password) != 0);}
\DoxyCodeLine{336 }
\DoxyCodeLine{337         \textcolor{keywordflow}{while} (userDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>} (\&temp), sizeof (temp))) \{}
\DoxyCodeLine{338             \textcolor{keywordflow}{if} (strcmp(temp.username, info.username) == 0 \&\&}
\DoxyCodeLine{339                     strcmp(temp.password, info.password) == 0) \{}
\DoxyCodeLine{340                 \textcolor{comment}{// Update the status}}
\DoxyCodeLine{341                 temp.status = \textcolor{keyword}{false};}
\DoxyCodeLine{342                 info.status = \textcolor{keyword}{false};}
\DoxyCodeLine{343 }
\DoxyCodeLine{344                 \textcolor{comment}{// Place cursor at the current read position to write new record}}
\DoxyCodeLine{345                 userDB.seekp(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}\textcolor{keyword}{>} (userDB.tellg()) -\/ sizeof (temp));}
\DoxyCodeLine{346                 userDB.write(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>} (\&temp), \textcolor{keyword}{sizeof} (temp));}
\DoxyCodeLine{347 }
\DoxyCodeLine{348                 cout << \textcolor{stringliteral}{"{}Account Deactivated."{}} << endl;}
\DoxyCodeLine{349                 userDB.close();}
\DoxyCodeLine{350             \}}
\DoxyCodeLine{351         \}}
\DoxyCodeLine{352 }
\DoxyCodeLine{353         \textcolor{keywordflow}{return};}
\DoxyCodeLine{354     \}}
\DoxyCodeLine{355 }
\DoxyCodeLine{356     \textcolor{keywordtype}{void} listUsrInfo() \{}
\DoxyCodeLine{357         fstream userDB(\textcolor{stringliteral}{"{}UserInfo.dat"{}}, ios::in | ios::app | ios::binary);}
\DoxyCodeLine{358         \mbox{\hyperlink{struct_user_info}{UserInfo}} temp;}
\DoxyCodeLine{359 }
\DoxyCodeLine{360         cout << endl << \textcolor{stringliteral}{"{}Username \(\backslash\)t Password"{}} << endl << endl;}
\DoxyCodeLine{361         userDB.seekg(ios::beg);}
\DoxyCodeLine{362         \textcolor{keywordflow}{while} (userDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (\&temp), sizeof (temp))) \{}
\DoxyCodeLine{363             \textcolor{keywordflow}{if} (strcmp(temp.username, info.username) == 0) \{}
\DoxyCodeLine{364                 cout << left << setw(17);}
\DoxyCodeLine{365                 cout << temp.username << setw(17) << temp.password << endl << endl;}
\DoxyCodeLine{366             \}}
\DoxyCodeLine{367         \}}
\DoxyCodeLine{368         userDB.close();}
\DoxyCodeLine{369     \}}
\DoxyCodeLine{370 }
\DoxyCodeLine{371     \textcolor{keywordtype}{void} listSrvs(\textcolor{keywordtype}{string} srvDBfile) \{}
\DoxyCodeLine{372         \textcolor{keywordtype}{int} num = 1;}
\DoxyCodeLine{373         readFromBin(usrSrvFile, userSrvs);}
\DoxyCodeLine{374         readFromBin(srvDBfile, surveys);}
\DoxyCodeLine{375 }
\DoxyCodeLine{376         cout << endl << \textcolor{stringliteral}{"{}AVAILABLE SURVEYS"{}} << endl;}
\DoxyCodeLine{377         \textcolor{keywordflow}{if} (surveys.size() == 0) \{}
\DoxyCodeLine{378             cout << \textcolor{stringliteral}{"{}No Surveys To Retrieve from the Database."{}} << endl;}
\DoxyCodeLine{379         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{380             cout << left;}
\DoxyCodeLine{381             cout << setw(50) << \textcolor{stringliteral}{"{}Title"{}} << right << setw(12) << \textcolor{stringliteral}{"{}Completed"{}} << endl;}
\DoxyCodeLine{382             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < surveys.size(); i++) \{}
\DoxyCodeLine{383                 \textcolor{keywordflow}{if} (surveys[i]-\/>getStatus() == \textcolor{keyword}{true}) \{}
\DoxyCodeLine{384                     cout << num++ << \textcolor{stringliteral}{"{}) "{}};}
\DoxyCodeLine{385                     cout << left << setw(50) << surveys[i]-\/>getTitle() << \textcolor{stringliteral}{"{}\(\backslash\)t"{}}}
\DoxyCodeLine{386                             << boolalpha << chkComplete(surveys[i]) << endl;}
\DoxyCodeLine{387                 \}}
\DoxyCodeLine{388             \}}
\DoxyCodeLine{389         \}}
\DoxyCodeLine{390         cout << endl;}
\DoxyCodeLine{391     \}}
\DoxyCodeLine{392 }
\DoxyCodeLine{393     \textcolor{keywordtype}{bool} chkComplete(Survey * srv) \{}
\DoxyCodeLine{394         \textcolor{keywordtype}{bool} complete;}
\DoxyCodeLine{395 }
\DoxyCodeLine{396         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < userSrvs.size(); i++) \{}
\DoxyCodeLine{397             \textcolor{keywordflow}{if} (strcmp(srv-\/>getTitle(), userSrvs[i]-\/>getTitle()) == 0) \{}
\DoxyCodeLine{398                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{399             \}}
\DoxyCodeLine{400         \}}
\DoxyCodeLine{401         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{402     \}}
\DoxyCodeLine{403 }
\DoxyCodeLine{404     \textcolor{keywordtype}{void} listCompSrvs(\textcolor{keywordtype}{string} file) \{}
\DoxyCodeLine{405         \textcolor{keywordtype}{int} num = 1;}
\DoxyCodeLine{406         \textcolor{keywordtype}{bool} none = \textcolor{keyword}{true};}
\DoxyCodeLine{407         readFromBin(file, userSrvs);}
\DoxyCodeLine{408 }
\DoxyCodeLine{409         cout << endl << \textcolor{stringliteral}{"{}COMPLETED SURVEYS"{}} << endl;}
\DoxyCodeLine{410         \textcolor{keywordflow}{if} (userSrvs.size() == 0) \{}
\DoxyCodeLine{411             cout << \textcolor{stringliteral}{"{}No Surveys To Retrieve from the Database."{}} << endl;}
\DoxyCodeLine{412         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{413             cout << left;}
\DoxyCodeLine{414             cout << setw(50) << \textcolor{stringliteral}{"{}Title"{}} << endl;}
\DoxyCodeLine{415             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < userSrvs.size(); i++) \{}
\DoxyCodeLine{416                 \textcolor{keywordflow}{if} (userSrvs[i]-\/>getStatus() == \textcolor{keyword}{true}) \{}
\DoxyCodeLine{417                     cout << num++ << \textcolor{stringliteral}{"{}) "{}};}
\DoxyCodeLine{418                     cout << left << setw(50) << userSrvs[i]-\/>getTitle() << endl;}
\DoxyCodeLine{419                     none = \textcolor{keyword}{false};}
\DoxyCodeLine{420                 \}}
\DoxyCodeLine{421             \}}
\DoxyCodeLine{422             \textcolor{keywordflow}{if} (none == \textcolor{keyword}{true}) \{}
\DoxyCodeLine{423                 cout << right << setw(15) << \textcolor{stringliteral}{"{}-\/ -\/ -\/ -\/ -\/ -\/ None -\/ -\/ -\/ -\/ -\/ -\/"{}} << endl;}
\DoxyCodeLine{424             \}}
\DoxyCodeLine{425         \}}
\DoxyCodeLine{426     \}}
\DoxyCodeLine{427 }
\DoxyCodeLine{428     \textcolor{keywordtype}{void} prntSrvs(\textcolor{keywordtype}{string} srvDBfile) \{}
\DoxyCodeLine{429         \textcolor{keywordtype}{int} survNum = 0, indx = 0, validNum = 0;}
\DoxyCodeLine{430 }
\DoxyCodeLine{431         \textcolor{comment}{//Read surveys from binary file}}
\DoxyCodeLine{432         readFromBin(srvDBfile, surveys);}
\DoxyCodeLine{433         listSrvs(srvDBfile);}
\DoxyCodeLine{434         validNum = surveys.size();}
\DoxyCodeLine{435 }
\DoxyCodeLine{436         \textcolor{keywordflow}{if} (surveys.size() != 0) \{ \textcolor{comment}{//Ensure input for survey is within bounds}}
\DoxyCodeLine{437             \textcolor{comment}{//Indicate which survey to view}}
\DoxyCodeLine{438             \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{439                 cout << \textcolor{stringliteral}{"{}Enter the Number of the Survey to View: "{}};}
\DoxyCodeLine{440                 cin>>survNum;}
\DoxyCodeLine{441                 cin.ignore();}
\DoxyCodeLine{442                 \textcolor{keywordflow}{if} (survNum <= 0 || survNum > validNum) \{}
\DoxyCodeLine{443                     cout << \textcolor{stringliteral}{"{}Invalid Survey Number. Enter 1 -\/ "{}} << validNum << endl;}
\DoxyCodeLine{444                 \}}
\DoxyCodeLine{445             \} \textcolor{keywordflow}{while} (survNum <= 0 || survNum > validNum);}
\DoxyCodeLine{446 }
\DoxyCodeLine{447             indx = survNum -\/ 1;}
\DoxyCodeLine{448             cout << \textcolor{stringliteral}{"{}VIEW SURVEY"{}} << endl;}
\DoxyCodeLine{449             surveys[indx]-\/>display();}
\DoxyCodeLine{450         \}}
\DoxyCodeLine{451     \}}
\DoxyCodeLine{452 }
\DoxyCodeLine{453     \textcolor{keywordtype}{void} prntUsrSrvs() \{}
\DoxyCodeLine{454         \textcolor{keywordtype}{int} survNum = 0, indx = 0, validNum = 0;}
\DoxyCodeLine{455 }
\DoxyCodeLine{456         \textcolor{comment}{//Read surveys and responses from binary file}}
\DoxyCodeLine{457         readFromBin(usrSrvFile, userSrvs);}
\DoxyCodeLine{458         listCompSrvs(usrSrvFile);}
\DoxyCodeLine{459         readRespBin();}
\DoxyCodeLine{460         validNum = userSrvs.size();}
\DoxyCodeLine{461 }
\DoxyCodeLine{462         \textcolor{keywordflow}{if} (userSrvs.size() != 0) \{ \textcolor{comment}{//Ensure input for survey is within bounds}}
\DoxyCodeLine{463             \textcolor{comment}{//Indicate which survey to view}}
\DoxyCodeLine{464             \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{465                 cout << \textcolor{stringliteral}{"{}Enter the Number of the Survey to View: "{}};}
\DoxyCodeLine{466                 cin>>survNum;}
\DoxyCodeLine{467                 cin.ignore();}
\DoxyCodeLine{468                 \textcolor{keywordflow}{if} (survNum <= 0 || survNum > validNum) \{}
\DoxyCodeLine{469                     cout << \textcolor{stringliteral}{"{}Invalid Survey Number. Enter 1 -\/ "{}} << validNum << endl;}
\DoxyCodeLine{470                 \}}
\DoxyCodeLine{471             \} \textcolor{keywordflow}{while} (survNum <= 0 || survNum > validNum);}
\DoxyCodeLine{472 }
\DoxyCodeLine{473             indx = survNum -\/ 1;}
\DoxyCodeLine{474             cout << \textcolor{stringliteral}{"{}VIEW COMPLETED SURVEY"{}} << endl;}
\DoxyCodeLine{475             userSrvs[indx]-\/>display();}
\DoxyCodeLine{476             prntResp(userSrvs[indx], indx);}
\DoxyCodeLine{477         \}}
\DoxyCodeLine{478     \}}
\DoxyCodeLine{479 }
\DoxyCodeLine{480     \textcolor{keywordtype}{void} prntResp(Survey *srv, \textcolor{keywordtype}{int} srvIndx) \{}
\DoxyCodeLine{481         \textcolor{keywordtype}{int} i = 0, startIndx = 0, finalIndx = 0, qIndx = 1;}
\DoxyCodeLine{482 }
\DoxyCodeLine{483         \textcolor{comment}{//Find start and end index of responses for a given survey in responses vector}}
\DoxyCodeLine{484         startIndx = findRespIndx(srv, srvIndx);}
\DoxyCodeLine{485         i = startIndx;}
\DoxyCodeLine{486         finalIndx = startIndx + srv-\/>getNumQs() -\/ 1;}
\DoxyCodeLine{487 }
\DoxyCodeLine{488         cout << \textcolor{stringliteral}{"{}Your Responses"{}} << endl;}
\DoxyCodeLine{489         \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{490             cout << \textcolor{stringliteral}{"{}Q"{}} << qIndx << \textcolor{stringliteral}{"{}: "{}};}
\DoxyCodeLine{491             cout << responses[i] << endl;}
\DoxyCodeLine{492             i++;}
\DoxyCodeLine{493             qIndx++;}
\DoxyCodeLine{494         \} \textcolor{keywordflow}{while} (i <= finalIndx);}
\DoxyCodeLine{495     \}}
\DoxyCodeLine{496 }
\DoxyCodeLine{497     \textcolor{keywordtype}{int} findRespIndx(Survey *srv, \textcolor{keywordtype}{int} srvIndx) \{}
\DoxyCodeLine{498         \textcolor{keywordtype}{int} numQs = 0;}
\DoxyCodeLine{499 }
\DoxyCodeLine{500         \textcolor{comment}{//Calculate starting index by counting number of questions of surveys before}}
\DoxyCodeLine{501         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < srvIndx; i++) \{}
\DoxyCodeLine{502             numQs += userSrvs[i]-\/>getNumQs();}
\DoxyCodeLine{503         \}}
\DoxyCodeLine{504 }
\DoxyCodeLine{505         \textcolor{keywordflow}{return} numQs;}
\DoxyCodeLine{506     \}}
\DoxyCodeLine{507 }
\DoxyCodeLine{508     \textcolor{keywordtype}{void} wrtRespBin() \{}
\DoxyCodeLine{509         fstream respDB(usrRespFile, ios::out | ios::binary | ios::app);}
\DoxyCodeLine{510 }
\DoxyCodeLine{511         \textcolor{keywordflow}{if} (!respDB) \{}
\DoxyCodeLine{512             cerr << \textcolor{stringliteral}{"{}Error: Unable to Open File for Writing."{}} << endl;}
\DoxyCodeLine{513             \textcolor{keywordflow}{return};}
\DoxyCodeLine{514         \}}
\DoxyCodeLine{515         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < responses.size(); i++) \{}
\DoxyCodeLine{516             \textcolor{keywordtype}{int} len = responses[i].length();}
\DoxyCodeLine{517             respDB.write(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (\&len), \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{int}));}
\DoxyCodeLine{518             respDB.write(responses[i].c\_str(), len);}
\DoxyCodeLine{519         \}}
\DoxyCodeLine{520         respDB.close();}
\DoxyCodeLine{521     \}}
\DoxyCodeLine{522 }
\DoxyCodeLine{523     \textcolor{keywordtype}{void} readRespBin() \{}
\DoxyCodeLine{524         responses.clear(); \textcolor{comment}{//Clear vector first to read entire file contents to it}}
\DoxyCodeLine{525         fstream respDB(usrRespFile, ios::in | ios::binary);}
\DoxyCodeLine{526         \textcolor{keywordflow}{if} (!respDB) \{}
\DoxyCodeLine{527             \textcolor{keywordflow}{return};}
\DoxyCodeLine{528         \}}
\DoxyCodeLine{529 }
\DoxyCodeLine{530         \textcolor{comment}{//Use cursor to get size of file to read entire file}}
\DoxyCodeLine{531         respDB.seekg(0, ios::end);}
\DoxyCodeLine{532         \textcolor{keywordtype}{int} size = respDB.tellg();}
\DoxyCodeLine{533         respDB.seekg(0, ios::beg);}
\DoxyCodeLine{534 }
\DoxyCodeLine{535         \textcolor{comment}{//Read in responses until cursor reaches the size of the file}}
\DoxyCodeLine{536         \textcolor{keywordflow}{while} (respDB.tellg() < size) \{}
\DoxyCodeLine{537             \textcolor{keywordtype}{int} len;}
\DoxyCodeLine{538             \textcolor{keywordtype}{string} response;}
\DoxyCodeLine{539             respDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>} (\&len), \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{int}));}
\DoxyCodeLine{540             response.resize(len);}
\DoxyCodeLine{541             respDB.read(\&response[0], len);}
\DoxyCodeLine{542             responses.push\_back(response);}
\DoxyCodeLine{543         \}}
\DoxyCodeLine{544         respDB.close();}
\DoxyCodeLine{545     \}}
\DoxyCodeLine{546 }
\DoxyCodeLine{547     \textcolor{keywordtype}{void} reloadResp() \{}
\DoxyCodeLine{548         \textcolor{comment}{//Clear binary file, output vector surveys to binary, then write to bin}}
\DoxyCodeLine{549         clearBin(usrRespFile);}
\DoxyCodeLine{550 }
\DoxyCodeLine{551         wrtRespBin();}
\DoxyCodeLine{552 }
\DoxyCodeLine{553         readRespBin();}
\DoxyCodeLine{554     \}}
\DoxyCodeLine{555 }
\DoxyCodeLine{556     \textcolor{keywordtype}{void} readFromBin(\textcolor{keywordtype}{string} file, vector<Survey *>\& srvs) \{}
\DoxyCodeLine{557         srvs.clear(); \textcolor{comment}{//Clear vector first to read entire file contents to it}}
\DoxyCodeLine{558         fstream surveyDB(file, ios::in | ios::binary);}
\DoxyCodeLine{559         \textcolor{keywordflow}{if} (!surveyDB) \{}
\DoxyCodeLine{560             \textcolor{keywordflow}{return};}
\DoxyCodeLine{561         \}}
\DoxyCodeLine{562 }
\DoxyCodeLine{563         \textcolor{comment}{//Use cursor to get size of file to read entire file}}
\DoxyCodeLine{564         surveyDB.seekg(0, ios::end);}
\DoxyCodeLine{565         \textcolor{keywordtype}{int} size = surveyDB.tellg();}
\DoxyCodeLine{566         surveyDB.seekg(0, ios::beg);}
\DoxyCodeLine{567 }
\DoxyCodeLine{568         \textcolor{comment}{//Read in Survey information until cursor reaches the size of the file}}
\DoxyCodeLine{569         \textcolor{keywordflow}{while} (surveyDB.tellg() < size) \{}
\DoxyCodeLine{570             \textcolor{comment}{//Read title and number of questions from binary file}}
\DoxyCodeLine{571             \textcolor{keywordtype}{char} title[TSIZE];}
\DoxyCodeLine{572             \textcolor{keywordtype}{bool} status;}
\DoxyCodeLine{573             \textcolor{keywordtype}{int} numQs;}
\DoxyCodeLine{574             surveyDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (title), TSIZE);}
\DoxyCodeLine{575             surveyDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (\&status), \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{bool}));}
\DoxyCodeLine{576             surveyDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (\&numQs), \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{int}));}
\DoxyCodeLine{577             vector<Question *> questions;}
\DoxyCodeLine{578             \textcolor{comment}{//Loop through each question in the binary file and read}}
\DoxyCodeLine{579             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numQs; i++) \{}
\DoxyCodeLine{580                 \textcolor{keywordtype}{char} q[QRSIZE];}
\DoxyCodeLine{581                 \textcolor{keywordtype}{int} type, numResp;}
\DoxyCodeLine{582                 vector<string> options;}
\DoxyCodeLine{583 }
\DoxyCodeLine{584                 surveyDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (q), \textcolor{keyword}{sizeof} (q));}
\DoxyCodeLine{585                 surveyDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (\&type), \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{int}));}
\DoxyCodeLine{586                 surveyDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (\&numResp), \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{int}));}
\DoxyCodeLine{587                 \textcolor{comment}{//Loop through each response option in the binary file and read}}
\DoxyCodeLine{588                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < numResp; j++) \{}
\DoxyCodeLine{589 }
\DoxyCodeLine{590                     \textcolor{keywordtype}{int} len;}
\DoxyCodeLine{591                     \textcolor{keywordtype}{string} option;}
\DoxyCodeLine{592                     surveyDB.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>} (\&len), \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{int}));}
\DoxyCodeLine{593                     option.resize(len);}
\DoxyCodeLine{594                     surveyDB.read(\&option[0], len);}
\DoxyCodeLine{595                     options.push\_back(option);}
\DoxyCodeLine{596                 \}}
\DoxyCodeLine{597 }
\DoxyCodeLine{598                 \textcolor{comment}{// Create new Question object and set its properties}}
\DoxyCodeLine{599                 \mbox{\hyperlink{class_question}{Question}} *newQ = \textcolor{keyword}{new} \mbox{\hyperlink{class_question}{Question}}();}
\DoxyCodeLine{600                 newQ-\/>setQ(q);}
\DoxyCodeLine{601                 newQ-\/>setType(type);}
\DoxyCodeLine{602                 newQ-\/>setNumResp(numResp);}
\DoxyCodeLine{603                 newQ-\/>setRespOptions(options);}
\DoxyCodeLine{604                 questions.push\_back(newQ);}
\DoxyCodeLine{605             \}}
\DoxyCodeLine{606 }
\DoxyCodeLine{607             \textcolor{comment}{//Create new Survey object,set properties, and add it to vector}}
\DoxyCodeLine{608             Survey *survey = \textcolor{keyword}{new} Survey();}
\DoxyCodeLine{609             survey-\/>setTitle(title);}
\DoxyCodeLine{610             survey-\/>setStatus(status);}
\DoxyCodeLine{611             survey-\/>setNumQs(numQs);}
\DoxyCodeLine{612             survey-\/>setQs(questions);}
\DoxyCodeLine{613             srvs.push\_back(survey);}
\DoxyCodeLine{614         \}}
\DoxyCodeLine{615         surveyDB.close();}
\DoxyCodeLine{616     \}}
\DoxyCodeLine{617 }
\DoxyCodeLine{618     \textcolor{keywordtype}{void} reloadSrvs(\textcolor{keywordtype}{string} file, vector<Survey *> srvs) \{}
\DoxyCodeLine{619         \textcolor{comment}{//Clear binary file, output vector surveys to binary, then write to bin}}
\DoxyCodeLine{620         clearBin(file);}
\DoxyCodeLine{621 }
\DoxyCodeLine{622         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < srvs.size(); i++) \{}
\DoxyCodeLine{623             srvs[i]-\/>saveToBin(file);}
\DoxyCodeLine{624         \}}
\DoxyCodeLine{625 }
\DoxyCodeLine{626         readFromBin(file, srvs);}
\DoxyCodeLine{627     \}}
\DoxyCodeLine{628 }
\DoxyCodeLine{629     \textcolor{keywordtype}{void} clearBin(\textcolor{keywordtype}{string} file) \{}
\DoxyCodeLine{630         \textcolor{comment}{//Deletes all contents of the binary file}}
\DoxyCodeLine{631         ofstream DB(file, ios::out | ios::trunc);}
\DoxyCodeLine{632         DB.close();}
\DoxyCodeLine{633     \}}
\DoxyCodeLine{634 }
\DoxyCodeLine{635 \};}
\DoxyCodeLine{636 }
\DoxyCodeLine{637 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USER\_H */}\textcolor{preprocessor}{}}
\DoxyCodeLine{638 }

\end{DoxyCode}
